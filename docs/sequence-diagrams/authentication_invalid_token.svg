<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1112" height="581"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1112" height="581"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 55.049635120999994 L 44.631447682160164 581.043181381" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.7145147516914 55.049635120999994 L 396.7145147516914 581.043181381" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 856.6815510256497 55.049635120999994 L 856.6815510256497 581.043181381" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1023.7718847444622 55.049635120999994 L 1023.7718847444622 581.043181381" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.167601650000002 10.944586211000003 L 81.09529371432032 10.944586211000003 L 81.09529371432032 55.049635120999994 L 8.167601650000002 55.049635120999994 L 8.167601650000002 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="25.891297230500008" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 344.763920977832 10.944586211000003 L 448.66510852555075 10.944586211000003 L 448.66510852555075 55.049635120999994 L 344.763920977832 55.049635120999994 L 344.763920977832 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="362.48761655833204" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Apollo API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 786.8032686531575 10.944586211000003 L 926.5598333981419 10.944586211000003 L 926.5598333981419 55.049635120999994 L 786.8032686531575 55.049635120999994 L 786.8032686531575 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="804.5269642336575" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Apollo Keycloak</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 942.8950366981419 10.944586211000003 L 1104.6487327907826 10.944586211000003 L 1104.6487327907826 55.049635120999994 L 942.8950366981419 55.049635120999994 L 942.8950366981419 10.944586211000003 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="960.6187322786419" y="38.71443182099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Any other Keycloak</text></g></g><g><g><g><rect fill="white" stroke="none" x="331.69416525932684" y="87.720041721" width="405.0150019079687" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="334.14444575432685" y="102.42172469100001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /auth/realms/apollo-web/protocol/openid-connect/token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 108.95580601099999 L 1021.7299843319622 108.95580601099999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1023.7718847444622,108.95580601099999) translate(-1023.7718847444622,-108.95580601099999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1009.7766403614082 102.71240852537655 L 1022.2415848789127 108.95580601099999 L 1009.7766403614082 115.19920349662344" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 29.929764712160164 133.45861096099998 L 1023.7718847444622 133.45861096099998 L 1038.4735677144622 148.16029393099998 L 1038.4735677144622 171.029578551 L 29.929764712160164 171.029578551 L 29.929764712160164 133.45861096099998 M 1023.7718847444622 133.45861096099998 L 1023.7718847444622 148.16029393099998 L 1038.4735677144622 148.16029393099998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="452.71636805657295" y="156.32789558099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Username and password</text></g><g><g><rect fill="white" stroke="none" x="459.6468859014167" y="195.532383501" width="149.10956062378906" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="462.0971663964167" y="210.23406647099998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP/200 OK - Token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1023.7718847444622 216.768147791 L 46.67334809466016 216.768147791" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(44.631447682160164,216.768147791) translate(-44.631447682160164,-216.768147791)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 58.6266920652142 210.52475030537656 L 46.161747547709645 216.768147791 L 58.6266920652142 223.01154527662342" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="134.31432975024612" y="241.270952741" width="172.71730293335938" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="136.7646102452461" y="255.97263571099998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST/DELETE/PUT /v1/*</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 44.631447682160164 262.506717031 L 394.6726143391914 262.506717031" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(396.7145147516914,262.506717031) translate(-396.7145147516914,-262.506717031)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 382.71927036863735 256.26331954537653 L 395.18421488614194 262.506717031 L 382.71927036863735 268.75011451662346" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 29.929764712160164 287.009521981 L 396.71451475169147 287.009521981 L 411.41619772169145 301.71120495099996 L 411.41619772169145 324.580489571 L 29.929764712160164 324.580489571 L 29.929764712160164 287.009521981 M 396.71451475169147 287.009521981 L 396.71451475169147 301.71120495099996 L 411.41619772169145 301.71120495099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.799049332160166" y="309.87880660099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Data and Token from another source or expired one</text></g><g><g><rect fill="white" stroke="none" x="416.04450532335807" y="349.08329452099997" width="421.307055130625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="418.4947858183581" y="363.78497749099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /auth/realms/apollo-web/protocol/openid-connect/userinfo</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.7145147516914 370.319058811 L 854.6396506131497 370.319058811" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(856.6815510256497,370.319058811) translate(-856.6815510256497,-370.319058811)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 842.6863066425957 364.07566132537653 L 855.1512511601002 370.319058811 L 842.6863066425957 376.56245629662345" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 382.01283178169143 394.821863761 L 856.6815510256498 394.821863761 L 871.3832339956498 409.52354673099995 L 871.3832339956498 432.392831351 L 382.01283178169143 432.392831351 L 382.01283178169143 394.821863761 M 856.6815510256498 394.821863761 L 856.6815510256498 409.52354673099995 L 871.3832339956498 409.52354673099995" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="607.1382718413073" y="417.69114838099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Token</text></g><g><g><rect fill="white" stroke="none" x="506.51693269152213" y="456.89563630099997" width="240.36220039429688" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="508.96721318652214" y="471.59731927099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP/401 Unauthorized - No claims</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 856.6815510256497 478.131400591 L 398.7564151641914 478.131400591" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(396.7145147516914,478.131400591) translate(-396.7145147516914,-478.131400591)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 410.70975913474547 471.8880031053765 L 398.2448146172409 478.131400591 L 410.70975913474547 484.37479807662345" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="91.51193106860548" y="502.6342055409999" width="258.3221002966406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.96221156360548" y="517.3358885109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HTTP/401 Unauthorized - Invalid token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.7145147516914 523.8699698309999 L 46.67334809466016 523.8699698309999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(44.631447682160164,523.8699698309999) translate(-44.631447682160164,-523.8699698309999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 58.6266920652142 517.6265723453765 L 46.161747547709645 523.8699698309999 L 58.6266920652142 530.1133673166233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g></g><g/><g/><g/><g/></g></svg>